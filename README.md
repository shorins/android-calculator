# Калькулятор (Android / Jetpack Compose)

Простой, но функциональный калькулятор для Android, разработанный в качестве учебного проекта. Приложение демонстрирует современные подходы к разработке Android-приложений с использованием Kotlin и Jetpack Compose.

## Стек технологий

-   **Язык:** [Kotlin](https://kotlinlang.org/) - основной язык для разработки под Android.
-   **UI:** [Jetpack Compose](https://developer.android.com/jetpack/compose) - современный декларативный UI-фреймворк для создания нативных интерфейсов.
-   **Архитектура:** MVVM (Model-View-ViewModel).
-   **Асинхронность:** Kotlin Coroutines (в рамках `LaunchedEffect`).
-   **Сохранение состояния:**
    -   `ViewModel` - для сохранения состояния при изменениях конфигурации (например, поворот экрана).
    -   `SharedPreferences` - для постоянного хранения состояния между запусками приложения.

## Архитектурные и технические решения

В проекте применены следующие подходы:

-   **Однонаправленный поток данных (UDF):** Состояние (`CalculatorState`) передается вниз (от `ViewModel` к `UI`), а события (`CalculatorAction`) передаются вверх (от `UI` к `ViewModel`). Это делает поток данных предсказуемым и легко отлаживаемым.
-   **Управление состоянием:** Использование `mutableStateOf` для создания наблюдаемого состояния, которое автоматически запускает перерисовку UI при его изменении.
-   **Sealed-классы для событий:** Класс `CalculatorAction` строго типизирует все возможные действия пользователя, что делает код более безопасным и читаемым.
-   **Адаптивный UI:** Приложение имеет два разных макета для портретной и ландшафтной ориентации. Логика в `CalculatorScreen` определяет текущую ориентацию и отрисовывает соответствующий UI, демонстрируя, как создавать адаптивные интерфейсы в Jetpack Compose.
-   **Сохранение состояния:** Проект демонстрирует два уровня сохранения состояния: при повороте экрана (с помощью `ViewModel`) и между сессиями (с помощью `SharedPreferences`).

## Документация проекта

Более подробная техническая документация по проекту разделена на несколько файлов:

1.  **[Структура проекта](./app/src/main/java/com/shorins/calculator/memory/00_Project_Structure.md)**
    -   Обзор файлов, директорий и их ролей в приложении.

2.  **[UI и Рендеринг](./app/src/main/java/com/shorins/calculator/memory/01_UI_and_Rendering.md)**
    -   Описание того, как построен UI, как происходит отрисовка и как реализована логика адаптации под разные ориентации экрана.

3.  **[Управление состоянием и ViewModel](./app/src/main/java/com/shorins/calculator/memory/02_State_and_ViewModel.md)**
    -   Подробное описание архитектуры MVVM, роли `ViewModel`, `State` и `Action`.

4.  **[Логика вычислений](./app/src/main/java/com/shorins/calculator/memory/03_Calculation_Logic.md)**
    -   Разбор того, как реализованы математические операции, включая отложенное вычисление процентов.

5.  **[Сохранение состояния (Persistence)](./app/src/main/java/com/shorins/calculator/memory/04_Persistence.md)**
    -   Объяснение двух уровней сохранения состояния: с помощью `ViewModel` и `SharedPreferences`.